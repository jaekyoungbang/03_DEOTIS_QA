<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì•¼ë†€ì RAG QA ì‹œìŠ¤í…œ ì„¤ì¹˜ ê°€ì´ë“œ</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            background-color: white;
            padding: 40px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #FF385C;
            border-bottom: 3px solid #FF385C;
            padding-bottom: 10px;
        }
        h2 {
            color: #2c3e50;
            margin-top: 30px;
            border-left: 4px solid #FF385C;
            padding-left: 10px;
        }
        h3 {
            color: #34495e;
            margin-top: 20px;
        }
        pre {
            background-color: #2c3e50;
            color: #ecf0f1;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            font-size: 14px;
            line-height: 1.5;
        }
        code {
            background-color: #ecf0f1;
            color: #e74c3c;
            padding: 2px 5px;
            border-radius: 3px;
            font-family: 'Consolas', 'Monaco', monospace;
        }
        pre code {
            background-color: transparent;
            color: inherit;
            padding: 0;
        }
        .comment {
            color: #95a5a6;
        }
        table {
            border-collapse: collapse;
            width: 100%;
            margin: 20px 0;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: left;
        }
        th {
            background-color: #FF385C;
            color: white;
        }
        tr:nth-child(even) {
            background-color: #f2f2f2;
        }
        .warning {
            background-color: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 5px;
            padding: 15px;
            margin: 15px 0;
        }
        .info {
            background-color: #d1ecf1;
            border: 1px solid #bee5eb;
            border-radius: 5px;
            padding: 15px;
            margin: 15px 0;
        }
        .success {
            background-color: #d4edda;
            border: 1px solid #c3e6cb;
            border-radius: 5px;
            padding: 15px;
            margin: 15px 0;
        }
        .toc {
            background-color: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 5px;
            padding: 20px;
            margin: 20px 0;
        }
        .toc h3 {
            margin-top: 0;
            color: #FF385C;
        }
        .toc ul {
            list-style-type: none;
            padding-left: 20px;
        }
        .toc a {
            color: #2c3e50;
            text-decoration: none;
        }
        .toc a:hover {
            color: #FF385C;
            text-decoration: underline;
        }
        .step-number {
            background-color: #FF385C;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            margin-right: 10px;
            font-weight: bold;
        }
        .copy-button {
            background-color: #4CAF50;
            color: white;
            border: none;
            padding: 5px 10px;
            cursor: pointer;
            border-radius: 3px;
            font-size: 12px;
            float: right;
            margin-top: -35px;
            margin-right: 5px;
        }
        .copy-button:hover {
            background-color: #45a049;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ¨ ì•¼ë†€ì RAG QA ì‹œìŠ¤í…œ ì„¤ì¹˜ ê°€ì´ë“œ</h1>
        
        <div class="toc">
            <h3>ëª©ì°¨</h3>
            <ul>
                <li><a href="#requirements">1. ì‹œìŠ¤í…œ ìš”êµ¬ì‚¬í•­</a></li>
                <li><a href="#packages">2. ê¸°ë³¸ íŒ¨í‚¤ì§€ ì„¤ì¹˜</a></li>
                <li><a href="#ollama">3. Ollama LLM ì„¤ì¹˜</a></li>
                <li><a href="#models">4. ì•¼ë†€ì ëª¨ë¸ ì„¤ì¹˜</a></li>
                <li><a href="#python">5. Python í™˜ê²½ êµ¬ì„±</a></li>
                <li><a href="#service">6. ì„œë¹„ìŠ¤ ì„¤ì •</a></li>
                <li><a href="#management">7. ìš´ì˜ ê´€ë¦¬</a></li>
                <li><a href="#troubleshooting">8. ë¬¸ì œ í•´ê²°</a></li>
                <li><a href="#local-test">9. ë¡œì»¬ í…ŒìŠ¤íŠ¸</a></li>
            </ul>
        </div>

        <h2 id="requirements"><span class="step-number">1</span>ì‹œìŠ¤í…œ ìš”êµ¬ì‚¬í•­</h2>
        
        <h3>í•˜ë“œì›¨ì–´</h3>
        <table>
            <tr>
                <th>êµ¬ì„±ìš”ì†Œ</th>
                <th>ìµœì†Œ ì‚¬ì–‘</th>
                <th>ê¶Œì¥ ì‚¬ì–‘</th>
            </tr>
            <tr>
                <td>CPU</td>
                <td>4ì½”ì–´</td>
                <td>8ì½”ì–´ ì´ìƒ</td>
            </tr>
            <tr>
                <td>RAM</td>
                <td>16GB</td>
                <td>32GB</td>
            </tr>
            <tr>
                <td>ì €ì¥ê³µê°„</td>
                <td>50GB</td>
                <td>100GB SSD</td>
            </tr>
            <tr>
                <td>OS</td>
                <td>Ubuntu 20.04 LTS</td>
                <td>Ubuntu 22.04 LTS</td>
            </tr>
        </table>

        <h3>ì†Œí”„íŠ¸ì›¨ì–´</h3>
        <ul>
            <li>Python 3.9 ì´ìƒ</li>
            <li>Redis Server</li>
            <li>Nginx (ì„ íƒì‚¬í•­)</li>
            <li>Git</li>
        </ul>

        <h2 id="packages"><span class="step-number">2</span>ê¸°ë³¸ íŒ¨í‚¤ì§€ ì„¤ì¹˜</h2>
        
        <h3>ì‹œìŠ¤í…œ ì—…ë°ì´íŠ¸</h3>
        <pre><code><span class="comment"># ì‹œìŠ¤í…œ íŒ¨í‚¤ì§€ ì—…ë°ì´íŠ¸</span>
sudo apt update && sudo apt upgrade -y</code></pre>
        
        <h3>í•„ìˆ˜ íŒ¨í‚¤ì§€ ì„¤ì¹˜</h3>
        <pre><code><span class="comment"># í•„ìˆ˜ íŒ¨í‚¤ì§€ ì¼ê´„ ì„¤ì¹˜</span>
sudo apt install -y \
    python3.9 \
    python3.9-venv \
    python3.9-dev \
    python3-pip \
    git \
    curl \
    wget \
    build-essential \
    redis-server \
    nginx \
    supervisor \
    htop \
    net-tools</code></pre>

        <h3>Python ê¸°ë³¸ ë²„ì „ ì„¤ì •</h3>
        <pre><code><span class="comment"># Python 3.9ë¥¼ ê¸°ë³¸ìœ¼ë¡œ ì„¤ì •</span>
sudo update-alternatives --install /usr/bin/python3 python3 /usr/bin/python3.9 1

<span class="comment"># ë²„ì „ í™•ì¸</span>
python3 --version  <span class="comment"># 3.9.x í™•ì¸</span></code></pre>

        <h2 id="ollama"><span class="step-number">3</span>Ollama LLM ì„¤ì¹˜</h2>
        
        <h3>Ollama ì„¤ì¹˜</h3>
        <pre><code><span class="comment"># ê³µì‹ ì„¤ì¹˜ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰</span>
curl -fsSL https://ollama.com/install.sh | sh

<span class="comment"># ì„¤ì¹˜ í™•ì¸</span>
ollama --version

<span class="comment"># ì„œë¹„ìŠ¤ í™œì„±í™”</span>
sudo systemctl enable ollama
sudo systemctl start ollama

<span class="comment"># ì„œë¹„ìŠ¤ ìƒíƒœ í™•ì¸</span>
sudo systemctl status ollama</code></pre>

        <div class="info">
            <strong>ğŸ’¡ ì°¸ê³ :</strong> OllamaëŠ” ë°±ê·¸ë¼ìš´ë“œ ì„œë¹„ìŠ¤ë¡œ ì‹¤í–‰ë˜ë©°, ê¸°ë³¸ì ìœ¼ë¡œ 11434 í¬íŠ¸ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.
        </div>

        <h3>Ollama ì„œë¹„ìŠ¤ ê´€ë¦¬</h3>
        <pre><code><span class="comment"># ì„œë¹„ìŠ¤ ì‹œì‘</span>
sudo systemctl start ollama

<span class="comment"># ì„œë¹„ìŠ¤ ì¤‘ì§€</span>
sudo systemctl stop ollama

<span class="comment"># ì„œë¹„ìŠ¤ ì¬ì‹œì‘</span>
sudo systemctl restart ollama

<span class="comment"># ë¡œê·¸ í™•ì¸</span>
sudo journalctl -u ollama -f</code></pre>

        <h2 id="models"><span class="step-number">4</span>ì•¼ë†€ì ëª¨ë¸ ì„¤ì¹˜</h2>
        
        <h3>ì•¼ë†€ì íŠ¹í™” ëª¨ë¸</h3>
        <table>
            <tr>
                <th>ìš©ë„</th>
                <th>ëª¨ë¸ëª…</th>
                <th>í¬ê¸°</th>
                <th>ì„¤ëª…</th>
            </tr>
            <tr>
                <td>ì—¬í–‰ ìƒë‹´</td>
                <td>llama3.1:8b-instruct-q4_0</td>
                <td>4.7GB</td>
                <td>ì—¬í–‰ì§€, ë§›ì§‘, ì•¡í‹°ë¹„í‹° ì¶”ì²œ</td>
            </tr>
            <tr>
                <td>ìˆ™ë°• ì¶”ì²œ</td>
                <td>qwen2.5:7b-instruct</td>
                <td>4.4GB</td>
                <td>í˜¸í…”/ìˆ™ë°• íŠ¹í™” ì¶”ì²œ</td>
            </tr>
            <tr>
                <td>ê³ ê°ì„œë¹„ìŠ¤</td>
                <td>solar:10.7b-instruct-v1-q4_0</td>
                <td>6GB</td>
                <td>ì˜ˆì•½/ì·¨ì†Œ/í™˜ë¶ˆ ì•ˆë‚´</td>
            </tr>
            <tr>
                <td>ë²”ìš©</td>
                <td>llama3.2:3b-instruct-korean</td>
                <td>2GB</td>
                <td>ì¼ë°˜ ì§ˆì˜ì‘ë‹µ</td>
            </tr>
        </table>

        <h3>ëª¨ë¸ ë‹¤ìš´ë¡œë“œ</h3>
        <pre><code><span class="comment"># ì—¬í–‰ ìƒë‹´ AI ëª¨ë¸</span>
ollama pull llama3.1:8b-instruct-q4_0

<span class="comment"># ìˆ™ë°• ì¶”ì²œ AI ëª¨ë¸</span>
ollama pull qwen2.5:7b-instruct

<span class="comment"># ê³ ê°ì„œë¹„ìŠ¤ AI ëª¨ë¸ (ë©”ëª¨ë¦¬ ì¶©ë¶„ì‹œ)</span>
ollama pull solar:10.7b-instruct-v1-q4_0

<span class="comment"># ë²”ìš© í•œêµ­ì–´ AI ëª¨ë¸</span>
ollama pull llama3.2:3b-instruct-korean

<span class="comment"># ì„¤ì¹˜ëœ ëª¨ë¸ í™•ì¸</span>
ollama list</code></pre>

        <div class="warning">
            <strong>âš ï¸ ì£¼ì˜:</strong> ëª¨ë“  ëª¨ë¸ì„ ì„¤ì¹˜í•˜ë ¤ë©´ ì•½ 20GBì˜ ì €ì¥ ê³µê°„ì´ í•„ìš”í•©ë‹ˆë‹¤.
        </div>

        <h3>ê²½ëŸ‰ ëª¨ë¸ ì˜µì…˜ (ë©”ëª¨ë¦¬ ë¶€ì¡±ì‹œ)</h3>
        <pre><code><span class="comment"># ê²½ëŸ‰ ëª¨ë¸ë§Œ ì„¤ì¹˜</span>
ollama pull llama3.2:3b
ollama pull phi3:mini  <span class="comment"># 3.8B íŒŒë¼ë¯¸í„°</span>
ollama pull gemma:2b   <span class="comment"># 2B íŒŒë¼ë¯¸í„°</span></code></pre>

        <h2 id="python"><span class="step-number">5</span>Python í™˜ê²½ êµ¬ì„±</h2>
        
        <h3>í”„ë¡œì íŠ¸ ë””ë ‰í† ë¦¬ ìƒì„±</h3>
        <pre><code><span class="comment"># ì•¼ë†€ì ì „ìš© ë””ë ‰í† ë¦¬ ìƒì„±</span>
sudo mkdir -p /opt/yanolja/rag-system
sudo chown -R $USER:$USER /opt/yanolja
cd /opt/yanolja/rag-system</code></pre>

        <h3>ì†ŒìŠ¤ì½”ë“œ ë°°í¬</h3>
        <pre><code><span class="comment"># Git clone ë°©ì‹</span>
git clone &lt;repository-url&gt; .

<span class="comment"># ë˜ëŠ” SCPë¡œ íŒŒì¼ ì „ì†¡</span>
scp -r /local/path/to/rag-qa-system/* user@server:/opt/yanolja/rag-system/</code></pre>

        <h3>Python ê°€ìƒí™˜ê²½ ì„¤ì •</h3>
        <pre><code><span class="comment"># ê°€ìƒí™˜ê²½ ìƒì„±</span>
python3 -m venv venv

<span class="comment"># ê°€ìƒí™˜ê²½ í™œì„±í™”</span>
source venv/bin/activate

<span class="comment"># pip ì—…ê·¸ë ˆì´ë“œ</span>
pip install --upgrade pip wheel setuptools

<span class="comment"># ì˜ì¡´ì„± ì„¤ì¹˜</span>
pip install -r requirements.txt</code></pre>

        <h3>í™˜ê²½ë³€ìˆ˜ ì„¤ì •</h3>
        <pre><code><span class="comment"># .env íŒŒì¼ ìƒì„±</span>
cat > .env << 'EOF'
# ì•¼ë†€ì í”„ë¡œì íŠ¸ ì„¤ì •
PROJECT_NAME=YANOLJA_RAG_SYSTEM
SECRET_KEY=yanolja-secret-key-$(date +%s)
FLASK_DEBUG=False
FLASK_PORT=5000
FLASK_HOST=0.0.0.0

# Ollama ì„¤ì •
OLLAMA_BASE_URL=http://localhost:11434

# ì•¼ë†€ì ëª¨ë¸ ì„¤ì •
YANOLJA_TRAVEL_MODEL=llama3.1:8b-instruct-q4_0
YANOLJA_HOTEL_MODEL=qwen2.5:7b-instruct
YANOLJA_CS_MODEL=solar:10.7b-instruct-v1-q4_0
YANOLJA_GENERAL_MODEL=llama3.2:3b-instruct-korean

# ë²¡í„° DB ì„¤ì •
CHROMA_PERSIST_DIRECTORY=/opt/yanolja/rag-system/data/vectordb
CHROMA_COLLECTION_NAME=yanolja_documents

# ë¬¸ì„œ ì²˜ë¦¬
CHUNK_SIZE=1000
CHUNK_OVERLAP=200
MAX_FILE_SIZE=52428800

# ì•¼ë†€ì ë¹„ì¦ˆë‹ˆìŠ¤ ì„¤ì •
YANOLJA_API_TIMEOUT=30
YANOLJA_MAX_RETRIES=3
YANOLJA_CACHE_TTL=3600
YANOLJA_MAX_CONCURRENT=4
YANOLJA_STREAMING=True

# ë¡œê¹…
LOG_LEVEL=INFO
LOG_FILE=/opt/yanolja/logs/yanolja-rag.log
EOF</code></pre>

        <h3>ë””ë ‰í† ë¦¬ êµ¬ì¡° ìƒì„±</h3>
        <pre><code><span class="comment"># í•„ìˆ˜ ë””ë ‰í† ë¦¬ ìƒì„±</span>
mkdir -p data/{documents,vectordb}
mkdir -p logs
mkdir -p static
mkdir -p templates

<span class="comment"># ê¶Œí•œ ì„¤ì •</span>
chmod -R 755 data/
chmod -R 755 logs/</code></pre>

        <h2 id="service"><span class="step-number">6</span>ì„œë¹„ìŠ¤ ì„¤ì •</h2>
        
        <h3>Redis ì„¤ì •</h3>
        <pre><code><span class="comment"># Redis ì‹œì‘</span>
sudo systemctl enable redis-server
sudo systemctl start redis-server

<span class="comment"># Redis ì—°ê²° í…ŒìŠ¤íŠ¸</span>
redis-cli ping
<span class="comment"># ì‘ë‹µ: PONG</span></code></pre>

        <h3>Systemd ì„œë¹„ìŠ¤ ë“±ë¡</h3>
        <pre><code><span class="comment"># ì•¼ë†€ì RAG ì„œë¹„ìŠ¤ íŒŒì¼ ìƒì„±</span>
sudo tee /etc/systemd/system/yanolja-rag.service << 'EOF'
[Unit]
Description=Yanolja RAG QA System
After=network.target redis.service ollama.service

[Service]
Type=simple
User=$USER
WorkingDirectory=/opt/yanolja/rag-system
Environment="PATH=/opt/yanolja/rag-system/venv/bin"
Environment="PYTHONPATH=/opt/yanolja/rag-system"
ExecStart=/opt/yanolja/rag-system/venv/bin/python app.py
Restart=always
RestartSec=10
StandardOutput=append:/opt/yanolja/logs/yanolja-rag.log
StandardError=append:/opt/yanolja/logs/yanolja-rag-error.log

[Install]
WantedBy=multi-user.target
EOF

<span class="comment"># ì„œë¹„ìŠ¤ í™œì„±í™” ë° ì‹œì‘</span>
sudo systemctl daemon-reload
sudo systemctl enable yanolja-rag
sudo systemctl start yanolja-rag

<span class="comment"># ì„œë¹„ìŠ¤ ìƒíƒœ í™•ì¸</span>
sudo systemctl status yanolja-rag</code></pre>

        <h3>Nginx ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ ì„¤ì •</h3>
        <pre><code><span class="comment"># Nginx ì„¤ì • íŒŒì¼ ìƒì„±</span>
sudo tee /etc/nginx/sites-available/yanolja-rag << 'EOF'
server {
    listen 80;
    server_name your-domain.com;  <span class="comment"># ì‹¤ì œ ë„ë©”ì¸ìœ¼ë¡œ ë³€ê²½</span>

    client_max_body_size 50M;  <span class="comment"># íŒŒì¼ ì—…ë¡œë“œ í¬ê¸° ì œí•œ</span>

    location / {
        proxy_pass http://127.0.0.1:5000;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        
        <span class="comment"># íƒ€ì„ì•„ì›ƒ ì„¤ì • (LLM ì‘ë‹µ ì‹œê°„ ê³ ë ¤)</span>
        proxy_connect_timeout 300s;
        proxy_send_timeout 300s;
        proxy_read_timeout 300s;
    }

    <span class="comment"># ì •ì  íŒŒì¼ ì§ì ‘ ì„œë¹™</span>
    location /static {
        alias /opt/yanolja/rag-system/static;
        expires 1d;
    }
}
EOF

<span class="comment"># ì„¤ì • í™œì„±í™”</span>
sudo ln -s /etc/nginx/sites-available/yanolja-rag /etc/nginx/sites-enabled/
sudo nginx -t
sudo systemctl restart nginx</code></pre>

        <h2 id="management"><span class="step-number">7</span>ìš´ì˜ ê´€ë¦¬</h2>
        
        <h3>ì„œë¹„ìŠ¤ ëª¨ë‹ˆí„°ë§</h3>
        <pre><code><span class="comment"># ì‹¤ì‹œê°„ ë¡œê·¸ í™•ì¸</span>
tail -f /opt/yanolja/logs/yanolja-rag.log

<span class="comment"># ì‹œìŠ¤í…œ ë¦¬ì†ŒìŠ¤ ëª¨ë‹ˆí„°ë§</span>
htop

<span class="comment"># Ollama í”„ë¡œì„¸ìŠ¤ í™•ì¸</span>
ps aux | grep ollama

<span class="comment"># ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ í™•ì¸</span>
free -h

<span class="comment"># ë””ìŠ¤í¬ ì‚¬ìš©ëŸ‰ í™•ì¸</span>
df -h /opt/yanolja</code></pre>

        <h3>ëª¨ë¸ ê´€ë¦¬</h3>
        <pre><code><span class="comment"># ì‹¤í–‰ ì¤‘ì¸ ëª¨ë¸ í™•ì¸</span>
ollama ps

<span class="comment"># íŠ¹ì • ëª¨ë¸ í…ŒìŠ¤íŠ¸</span>
ollama run llama3.1:8b-instruct-q4_0 "ì•ˆë…•í•˜ì„¸ìš”"

<span class="comment"># ëª¨ë¸ ì œê±° (ê³µê°„ í™•ë³´)</span>
ollama rm model-name

<span class="comment"># ëª¨ë¸ ì •ë³´ í™•ì¸</span>
ollama show llama3.1:8b-instruct-q4_0</code></pre>

        <h3>ë°±ì—… ë° ë³µêµ¬</h3>
        <pre><code><span class="comment"># ë²¡í„° DB ë°±ì—…</span>
tar -czf vectordb-backup-$(date +%Y%m%d).tar.gz /opt/yanolja/rag-system/data/vectordb

<span class="comment"># ë¬¸ì„œ ë°±ì—…</span>
tar -czf documents-backup-$(date +%Y%m%d).tar.gz /opt/yanolja/rag-system/data/documents

<span class="comment"># ì „ì²´ ë°±ì—…</span>
tar -czf yanolja-rag-backup-$(date +%Y%m%d).tar.gz /opt/yanolja/rag-system</code></pre>

        <h2 id="troubleshooting"><span class="step-number">8</span>ë¬¸ì œ í•´ê²°</h2>
        
        <h3>ì¼ë°˜ì ì¸ ë¬¸ì œë“¤</h3>
        
        <h4>Ollama ì—°ê²° ì‹¤íŒ¨</h4>
        <pre><code><span class="comment"># Ollama ì„œë¹„ìŠ¤ í™•ì¸</span>
sudo systemctl status ollama

<span class="comment"># í¬íŠ¸ í™•ì¸</span>
sudo netstat -tlnp | grep 11434

<span class="comment"># ì„œë¹„ìŠ¤ ì¬ì‹œì‘</span>
sudo systemctl restart ollama</code></pre>

        <h4>ë©”ëª¨ë¦¬ ë¶€ì¡±</h4>
        <pre><code><span class="comment"># ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ëª¨ë¸ ì œê±°</span>
ollama list
ollama rm unused-model

<span class="comment"># ìŠ¤ì™‘ ë©”ëª¨ë¦¬ ì¶”ê°€</span>
sudo fallocate -l 8G /swapfile
sudo chmod 600 /swapfile
sudo mkswap /swapfile
sudo swapon /swapfile</code></pre>

        <h4>Python ëª¨ë“ˆ ì˜¤ë¥˜</h4>
        <pre><code><span class="comment"># ê°€ìƒí™˜ê²½ ì¬í™œì„±í™”</span>
deactivate
source /opt/yanolja/rag-system/venv/bin/activate

<span class="comment"># íŒ¨í‚¤ì§€ ì¬ì„¤ì¹˜</span>
pip install --upgrade -r requirements.txt</code></pre>

        <h3>ì„±ëŠ¥ ìµœì í™”</h3>
        
        <h4>ëª¨ë¸ ì‘ë‹µ ì†ë„ ê°œì„ </h4>
        <pre><code><span class="comment"># .env íŒŒì¼ì—ì„œ ë™ì‹œ ìš”ì²­ ìˆ˜ ì¡°ì •</span>
YANOLJA_MAX_CONCURRENT=2  <span class="comment"># ë©”ëª¨ë¦¬ ë¶€ì¡±ì‹œ ì¤„ì´ê¸°</span>

<span class="comment"># ìºì‹œ TTL ì¦ê°€</span>
YANOLJA_CACHE_TTL=7200  <span class="comment"># 2ì‹œê°„</span></code></pre>

        <h4>ì‹œìŠ¤í…œ íŠœë‹</h4>
        <pre><code><span class="comment"># íŒŒì¼ ë””ìŠ¤í¬ë¦½í„° ì œí•œ ì¦ê°€</span>
echo "* soft nofile 65535" | sudo tee -a /etc/security/limits.conf
echo "* hard nofile 65535" | sudo tee -a /etc/security/limits.conf

<span class="comment"># ì‹œìŠ¤í…œ ì¬ì‹œì‘</span>
sudo reboot</code></pre>

        <h2 id="local-test"><span class="step-number">9</span>ë¡œì»¬ í…ŒìŠ¤íŠ¸</h2>
        
        <h3>Windows ë¡œì»¬ í…ŒìŠ¤íŠ¸</h3>
        <pre><code><span class="comment"># 1. Windowsì—ì„œ Ollama ì„¤ì¹˜</span>
<span class="comment"># PowerShell ê´€ë¦¬ì ê¶Œí•œìœ¼ë¡œ ì‹¤í–‰</span>
winget install Ollama.Ollama

<span class="comment"># ë˜ëŠ” https://ollama.com/download/windows ì—ì„œ ì§ì ‘ ë‹¤ìš´ë¡œë“œ</span>

<span class="comment"># 2. Ollama ì‹¤í–‰ í™•ì¸</span>
ollama --version

<span class="comment"># 3. ê²½ëŸ‰ ëª¨ë¸ ë‹¤ìš´ë¡œë“œ</span>
ollama pull llama3.2:3b
ollama pull phi3:mini

<span class="comment"># 4. ëª¨ë¸ í…ŒìŠ¤íŠ¸</span>
ollama run llama3.2:3b "ì•ˆë…•í•˜ì„¸ìš”"</code></pre>

        <h3>í…ŒìŠ¤íŠ¸ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰</h3>
        <pre><code><span class="comment"># í™˜ê²½ì„¤ì • ë³€ê²½</span>
copy .env .env.backup
copy .env.local .env

<span class="comment"># í…ŒìŠ¤íŠ¸ ì‹¤í–‰</span>
python test_yanolja_local.py

<span class="comment"># ì•± ì‹¤í–‰</span>
python app.py</code></pre>

        <div class="success">
            <strong>âœ… ì™„ë£Œ!</strong> ë¸Œë¼ìš°ì €ì—ì„œ <code>http://localhost:5000</code>ìœ¼ë¡œ ì ‘ì†í•˜ì—¬ í…ŒìŠ¤íŠ¸í•˜ì„¸ìš”.
        </div>

        <h2>ë¹ ë¥¸ ì„¤ì¹˜ ìŠ¤í¬ë¦½íŠ¸</h2>
        
        <pre><code>#!/bin/bash
<span class="comment"># install_yanolja_all.sh</span>

set -e

echo "ğŸ¨ ì•¼ë†€ì RAG ì‹œìŠ¤í…œ ì „ì²´ ì„¤ì¹˜ ì‹œì‘..."

<span class="comment"># 1. ì‹œìŠ¤í…œ íŒ¨í‚¤ì§€ ì„¤ì¹˜</span>
echo "ğŸ“¦ [1/6] ì‹œìŠ¤í…œ íŒ¨í‚¤ì§€ ì„¤ì¹˜..."
sudo apt update
sudo apt install -y python3.9 python3.9-venv python3.9-dev python3-pip \
    git curl wget build-essential redis-server nginx supervisor htop net-tools

<span class="comment"># 2. Ollama ì„¤ì¹˜</span>
echo "ğŸ¤– [2/6] Ollama ì„¤ì¹˜..."
curl -fsSL https://ollama.com/install.sh | sh
sudo systemctl enable ollama
sudo systemctl start ollama

<span class="comment"># 3. ì•¼ë†€ì ëª¨ë¸ ë‹¤ìš´ë¡œë“œ</span>
echo "ğŸ“¥ [3/6] ì•¼ë†€ì AI ëª¨ë¸ ë‹¤ìš´ë¡œë“œ..."
ollama pull llama3.1:8b-instruct-q4_0
ollama pull qwen2.5:7b-instruct
ollama pull llama3.2:3b-instruct-korean

<span class="comment"># 4. í”„ë¡œì íŠ¸ ì„¤ì •</span>
echo "ğŸ”§ [4/6] í”„ë¡œì íŠ¸ ì„¤ì •..."
sudo mkdir -p /opt/yanolja/rag-system
sudo chown -R $USER:$USER /opt/yanolja
cd /opt/yanolja/rag-system

<span class="comment"># 5. Python í™˜ê²½ êµ¬ì„±</span>
echo "ğŸ [5/6] Python í™˜ê²½ êµ¬ì„±..."
python3.9 -m venv venv
source venv/bin/activate
pip install --upgrade pip wheel setuptools

<span class="comment"># 6. ì„œë¹„ìŠ¤ ì‹œì‘</span>
echo "ğŸš€ [6/6] ì„œë¹„ìŠ¤ ì‹œì‘..."
sudo systemctl start redis
mkdir -p data/{documents,vectordb} logs static templates

echo "âœ… ì•¼ë†€ì RAG ì‹œìŠ¤í…œ ì„¤ì¹˜ ì™„ë£Œ!"
echo "ğŸ“ ì ‘ì† ì£¼ì†Œ: http://localhost:5000"
echo "ğŸ“š API ë¬¸ì„œ: http://localhost:5000/swagger/"</code></pre>

        <h2>ì„¤ì¹˜ í›„ í™•ì¸ì‚¬í•­</h2>
        
        <div class="info">
            <h4>1. ì„œë¹„ìŠ¤ ìƒíƒœ í™•ì¸</h4>
            <pre><code>sudo systemctl status ollama redis yanolja-rag</code></pre>
            
            <h4>2. ì›¹ ì¸í„°í˜ì´ìŠ¤ ì ‘ì†</h4>
            <ul>
                <li>ë©”ì¸ í˜ì´ì§€: <code>http://your-server:5000</code></li>
                <li>API ë¬¸ì„œ: <code>http://your-server:5000/swagger/</code></li>
            </ul>
            
            <h4>3. ëª¨ë¸ í…ŒìŠ¤íŠ¸</h4>
            <pre><code>curl -X POST http://localhost:5000/api/yanolja/chat \
  -H "Content-Type: application/json" \
  -d '{"message": "ì•ˆë…•í•˜ì„¸ìš”", "model_type": "travel"}'</code></pre>
        </div>

        <hr style="margin-top: 50px;">
        
        <div style="text-align: center; color: #666; padding: 20px 0;">
            <p><strong>ì•¼ë†€ì AIíŒ€</strong></p>
            <p>ë¬¸ì„œ ë²„ì „: 1.0.0 | ìµœì¢… ì—…ë°ì´íŠ¸: 2024-12-28</p>
        </div>
    </div>

    <script>
        // ì½”ë“œ ë¸”ë¡ì— ë³µì‚¬ ë²„íŠ¼ ì¶”ê°€
        document.addEventListener('DOMContentLoaded', function() {
            const codeBlocks = document.querySelectorAll('pre');
            
            codeBlocks.forEach(function(block, index) {
                const button = document.createElement('button');
                button.className = 'copy-button';
                button.textContent = 'ë³µì‚¬';
                button.onclick = function() {
                    const code = block.querySelector('code').textContent;
                    navigator.clipboard.writeText(code).then(function() {
                        button.textContent = 'ë³µì‚¬ë¨!';
                        setTimeout(function() {
                            button.textContent = 'ë³µì‚¬';
                        }, 2000);
                    });
                };
                block.style.position = 'relative';
                block.appendChild(button);
            });
        });
    </script>
</body>
</html>