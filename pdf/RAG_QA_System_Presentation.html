<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RAG QA 시스템 기술 발표</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: white;
            margin-top: 20px;
            margin-bottom: 20px;
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }

        .header {
            text-align: center;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px;
            border-radius: 15px;
            margin-bottom: 40px;
        }

        .header h1 {
            font-size: 3rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header p {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        .toc {
            background: #f8f9fa;
            padding: 30px;
            border-radius: 10px;
            margin-bottom: 40px;
            border-left: 5px solid #667eea;
        }

        .toc h2 {
            color: #667eea;
            margin-bottom: 20px;
        }

        .toc ul {
            list-style: none;
            columns: 2;
            column-gap: 30px;
        }

        .toc li {
            margin-bottom: 10px;
            padding: 5px 0;
        }

        .toc a {
            text-decoration: none;
            color: #333;
            transition: color 0.3s;
        }

        .toc a:hover {
            color: #667eea;
        }

        .section {
            margin-bottom: 60px;
            padding: 30px;
            background: #ffffff;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
        }

        .section h2 {
            color: #667eea;
            font-size: 2.5rem;
            margin-bottom: 30px;
            border-bottom: 3px solid #667eea;
            padding-bottom: 15px;
        }

        .section h3 {
            color: #764ba2;
            font-size: 1.8rem;
            margin-bottom: 20px;
            margin-top: 30px;
        }

        .section h4 {
            color: #555;
            font-size: 1.4rem;
            margin-bottom: 15px;
            margin-top: 25px;
        }

        .highlight-box {
            background: linear-gradient(135deg, #667eea20 0%, #764ba240 100%);
            padding: 25px;
            border-radius: 10px;
            margin: 25px 0;
            border-left: 5px solid #667eea;
        }

        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin: 30px 0;
        }

        .feature-card {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 10px;
            border-left: 5px solid #667eea;
            transition: transform 0.3s;
        }

        .feature-card:hover {
            transform: translateY(-5px);
        }

        .feature-card h4 {
            color: #667eea;
            margin-bottom: 15px;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .stat-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 25px;
            border-radius: 10px;
            text-align: center;
        }

        .stat-number {
            font-size: 2.5rem;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .stat-label {
            font-size: 1rem;
            opacity: 0.9;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 25px 0;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        th, td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }

        th {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            font-weight: 600;
        }

        tr:nth-child(even) {
            background-color: #f8f9fa;
        }

        tr:hover {
            background-color: #e3f2fd;
        }

        .code-block {
            background: #2d3748;
            color: #e2e8f0;
            padding: 25px;
            border-radius: 10px;
            overflow-x: auto;
            margin: 25px 0;
            font-family: 'Courier New', monospace;
        }

        .architecture-diagram {
            background: #f8f9fa;
            padding: 40px;
            border-radius: 10px;
            text-align: center;
            margin: 30px 0;
            border: 2px solid #667eea;
        }

        .architecture-box {
            display: inline-block;
            background: white;
            padding: 20px;
            margin: 10px;
            border-radius: 8px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
            border-left: 5px solid #667eea;
        }

        .performance-bar {
            background: #e9ecef;
            height: 20px;
            border-radius: 10px;
            overflow: hidden;
            margin: 10px 0;
        }

        .performance-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            border-radius: 10px;
            transition: width 0.3s ease;
        }

        .emoji {
            font-size: 1.5rem;
            margin-right: 10px;
        }

        .badge {
            display: inline-block;
            padding: 5px 12px;
            background: #667eea;
            color: white;
            border-radius: 15px;
            font-size: 0.85rem;
            font-weight: 600;
            margin: 3px;
        }

        .badge.success {
            background: #28a745;
        }

        .badge.warning {
            background: #ffc107;
            color: #333;
        }

        .badge.danger {
            background: #dc3545;
        }

        .timeline {
            position: relative;
            padding-left: 30px;
        }

        .timeline::before {
            content: '';
            position: absolute;
            left: 15px;
            top: 0;
            bottom: 0;
            width: 2px;
            background: #667eea;
        }

        .timeline-item {
            position: relative;
            margin-bottom: 30px;
            padding: 20px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }

        .timeline-item::before {
            content: '';
            position: absolute;
            left: -22px;
            top: 25px;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #667eea;
        }

        .footer {
            text-align: center;
            padding: 40px;
            background: #2d3748;
            color: white;
            border-radius: 15px;
            margin-top: 40px;
        }

        @media (max-width: 768px) {
            .container {
                margin: 10px;
                padding: 15px;
            }

            .header h1 {
                font-size: 2rem;
            }

            .section h2 {
                font-size: 2rem;
            }

            .toc ul {
                columns: 1;
            }

            .feature-grid, .stats-grid {
                grid-template-columns: 1fr;
            }
        }

        .star-rating {
            color: #ffd700;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>🤖 RAG QA 시스템</h1>
            <p>기술 발표 자료 - BC카드 지능형 질의응답 시스템</p>
            <p>2025년 8월 26일</p>
        </div>

        <div class="toc">
            <h2>📋 목차</h2>
            <ul>
                <li><a href="#overview">1. 프로젝트 개요</a></li>
                <li><a href="#architecture">2. 시스템 아키텍처</a></li>
                <li><a href="#tech-stack">3. 기술 스택 및 라이브러리</a></li>
                <li><a href="#chunking">4. 문서 로딩 및 청킹 전략</a></li>
                <li><a href="#embedding">5. 임베딩 및 벡터 DB 저장</a></li>
                <li><a href="#search">6. 검색 및 유사도 측정</a></li>
                <li><a href="#benchmarking">7. 4가지 벤치마킹 모드</a></li>
                <li><a href="#vllm">8. vLLM + kanana8b 선택 이유</a></li>
                <li><a href="#performance">9. 성능 및 실시간 스트리밍</a></li>
                <li><a href="#results">10. 결과 및 향후 계획</a></li>
            </ul>
        </div>

        <section id="overview" class="section">
            <h2>🎯 1. 프로젝트 개요</h2>
            
            <div class="highlight-box">
                <h3>프로젝트 목표</h3>
                <ul>
                    <li>BC카드 업무 지식을 활용한 지능형 질의응답 시스템 구축</li>
                    <li>다양한 청킹 전략과 LLM 모델 성능 비교 분석</li>
                    <li>실시간 멀티 벤치마킹을 통한 최적 구성 탐색</li>
                </ul>
            </div>

            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number">4</div>
                    <div class="stat-label">벤치마킹 모드</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">2</div>
                    <div class="stat-label">청킹 전략</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">233</div>
                    <div class="stat-label">문서 청크</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">3초</div>
                    <div class="stat-label">평균 응답시간</div>
                </div>
            </div>

            <div class="feature-grid">
                <div class="feature-card">
                    <h4><span class="emoji">🔄</span>듀얼 청킹 전략</h4>
                    <p>s3 기본 청킹 vs s3-chunking 커스텀 청킹으로 최적화된 문서 분할</p>
                </div>
                <div class="feature-card">
                    <h4><span class="emoji">🤖</span>멀티 LLM 지원</h4>
                    <p>ChatGPT API와 로컬 kanana8b 모델 성능 비교</p>
                </div>
                <div class="feature-card">
                    <h4><span class="emoji">📊</span>실시간 벤치마킹</h4>
                    <p>4가지 조합의 동시 성능 비교 및 스트리밍 결과</p>
                </div>
                <div class="feature-card">
                    <h4><span class="emoji">⚡</span>하이브리드 캐싱</h4>
                    <p>Redis + SQLite 2단계 캐시로 85% 성능 향상</p>
                </div>
            </div>
        </section>

        <section id="architecture" class="section">
            <h2>🏗️ 2. 시스템 아키텍처</h2>
            
            <div class="architecture-diagram">
                <h3>전체 시스템 구조</h3>
                <div style="margin: 30px 0;">
                    <div class="architecture-box" style="background: #e3f2fd;">
                        <strong>🌐 Frontend</strong><br>
                        Flask Web App + Swagger
                    </div>
                    <div style="margin: 20px 0;">⬇️</div>
                    <div class="architecture-box" style="background: #f3e5f5;">
                        <strong>🔧 Backend</strong><br>
                        LangChain RAG Engine
                    </div>
                    <div style="margin: 20px 0;">⬇️</div>
                    <div style="display: flex; justify-content: center; gap: 20px; flex-wrap: wrap;">
                        <div class="architecture-box" style="background: #e8f5e8;">
                            <strong>🔍 Vector Search</strong><br>
                            ChromaDB Dual Collections
                        </div>
                        <div class="architecture-box" style="background: #ffebee;">
                            <strong>🤖 LLM Systems</strong><br>
                            ChatGPT + vLLM
                        </div>
                    </div>
                </div>
            </div>

            <table>
                <thead>
                    <tr>
                        <th>계층</th>
                        <th>구성요소</th>
                        <th>역할</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>프론트엔드</strong></td>
                        <td>Flask Web App + Swagger</td>
                        <td>사용자 인터페이스 및 API 문서</td>
                    </tr>
                    <tr>
                        <td><strong>백엔드</strong></td>
                        <td>LangChain RAG Engine</td>
                        <td>질의응답 처리 로직</td>
                    </tr>
                    <tr>
                        <td><strong>벡터 DB</strong></td>
                        <td>ChromaDB (Dual Collections)</td>
                        <td>문서 임베딩 저장 및 검색</td>
                    </tr>
                    <tr>
                        <td><strong>캐시</strong></td>
                        <td>Redis + SQLite</td>
                        <td>응답 속도 최적화</td>
                    </tr>
                    <tr>
                        <td><strong>LLM</strong></td>
                        <td>ChatGPT + vLLM/kanana8b</td>
                        <td>답변 생성 엔진</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <section id="tech-stack" class="section">
            <h2>🛠️ 3. 기술 스택 및 라이브러리</h2>
            
            <div class="feature-grid">
                <div class="feature-card">
                    <h4>백엔드 프레임워크</h4>
                    <div class="code-block">
from flask import Flask
from flask_restx import Api, Resource
from flask_cors import CORS</div>
                    <span class="badge">Flask</span>
                    <span class="badge">Swagger</span>
                    <span class="badge">CORS</span>
                </div>
                <div class="feature-card">
                    <h4>LangChain 생태계</h4>
                    <div class="code-block">
from langchain.document_loaders import PyPDFLoader
from langchain_community.vectorstores import Chroma
from langchain_openai import ChatOpenAI</div>
                    <span class="badge">Document Processing</span>
                    <span class="badge">Vector Stores</span>
                    <span class="badge">LLM Chains</span>
                </div>
                <div class="feature-card">
                    <h4>벡터 데이터베이스</h4>
                    <div class="code-block">
import chromadb
from chromadb.config import Settings

CHROMA_SETTINGS = Settings(
    persist_directory="./chromadb"
)</div>
                    <span class="badge">ChromaDB</span>
                    <span class="badge">HNSW</span>
                    <span class="badge">Cosine Similarity</span>
                </div>
                <div class="feature-card">
                    <h4>임베딩 모델</h4>
                    <p><strong>Primary:</strong> BGE-M3 (1024차원) - 한국어 최적화</p>
                    <p><strong>Fallback:</strong> OpenAI text-embedding-3-small (1536차원)</p>
                    <span class="badge success">한국어 특화</span>
                    <span class="badge">로컬 배포</span>
                </div>
            </div>

            <h3>주요 라이브러리 버전</h3>
            <table>
                <thead>
                    <tr>
                        <th>라이브러리</th>
                        <th>버전</th>
                        <th>용도</th>
                    </tr>
                </thead>
                <tbody>
                    <tr><td>langchain-community</td><td>latest</td><td>문서 로더, 벡터 스토어</td></tr>
                    <tr><td>langchain-openai</td><td>latest</td><td>OpenAI API 통합</td></tr>
                    <tr><td>chromadb</td><td>latest</td><td>벡터 데이터베이스</td></tr>
                    <tr><td>flask-restx</td><td>latest</td><td>REST API + Swagger</td></tr>
                    <tr><td>python-docx</td><td>latest</td><td>DOCX 파일 처리</td></tr>
                </tbody>
            </table>
        </section>

        <section id="chunking" class="section">
            <h2>📁 4. 문서 로딩 및 청킹 전략</h2>
            
            <h3>듀얼 폴더 구조</h3>
            <div class="code-block">
D:\99_DEOTIS_QA_SYSTEM\03_DEOTIS_QA\
├── s3/                     # 기본 청킹 전략
│   ├── BC카드(신용카드 업무처리 안내).docx
│   └── BC카드(카드이용안내).docx
└── s3-chunking/            # 커스텀 청킹 전략
    ├── BC카드(신용카드 업무처리 안내)_delimited.docx
    └── BC카드(카드이용안내).docx</div>

            <div class="feature-grid">
                <div class="feature-card">
                    <h4>🔧 S3 기본 청킹</h4>
                    <div class="code-block">
class BasicChunkingStrategy:
    def __init__(self):
        self.text_splitter = RecursiveCharacterTextSplitter(
            chunk_size=1000,
            chunk_overlap=200,
            separators=["\n\n\n", "\n\n", "\n", ". "],
        )</div>
                    <ul>
                        <li>📏 청크 크기: 1000자 + 200자 겹침</li>
                        <li>📝 문단, 문장, 단어 순서 분할</li>
                        <li>🎯 일반 문서 구조 적합</li>
                    </ul>
                </div>
                <div class="feature-card">
                    <h4>🎯 S3-chunking 커스텀</h4>
                    <div class="code-block">
class CustomDelimiterChunkingStrategy:
    def __init__(self):
        self.delimiter = "/$$/"
        self.min_chunk_length = 50
        self.title_filter_enabled = True</div>
                    <ul>
                        <li>🎯 /$$/ 마커로 의미 단위 분할</li>
                        <li>🔍 제목 전용 청크 제거</li>
                        <li>📊 섹션 패턴 인식</li>
                        <li>🚫 중복 제거 (37% 효율성)</li>
                    </ul>
                </div>
            </div>

            <h3>청킹 결과 통계</h3>
            <table>
                <thead>
                    <tr>
                        <th>전략</th>
                        <th>문서 수</th>
                        <th>생성 청크</th>
                        <th>고유 청크</th>
                        <th>중복 제거율</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>기본 청킹</strong></td>
                        <td>2개</td>
                        <td>98개</td>
                        <td>98개</td>
                        <td>0%</td>
                    </tr>
                    <tr>
                        <td><strong>커스텀 청킹</strong></td>
                        <td>2개</td>
                        <td>135개</td>
                        <td>135개</td>
                        <td>37%</td>
                    </tr>
                    <tr style="background: #e8f5e8;">
                        <td><strong>전체</strong></td>
                        <td>4개</td>
                        <td>233개</td>
                        <td>233개</td>
                        <td>15%</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <section id="embedding" class="section">
            <h2>🧠 5. 임베딩 및 벡터 DB 저장</h2>
            
            <div class="feature-grid">
                <div class="feature-card">
                    <h4>BGE-M3 임베딩 (Primary)</h4>
                    <div class="code-block">
class EmbeddingManager:
    def __init__(self):
        self.bge_embeddings = OllamaEmbeddings(
            base_url="http://192.168.0.224:11434",
            model="bge-m3"
        )
        # 1024차원, 한국어 특화</div>
                    <div>
                        <span class="badge success">한국어 최적화</span>
                        <span class="badge">1024차원</span>
                        <span class="badge">로컬 배포</span>
                    </div>
                </div>
                <div class="feature-card">
                    <h4>듀얼 벡터 스토어</h4>
                    <div class="code-block">
class DualVectorStoreManager:
    def __init__(self, embeddings):
        self.basic_vectorstore = Chroma(
            collection_name="basic_chunks"
        )
        self.custom_vectorstore = Chroma(
            collection_name="custom_chunks"
        )</div>
                    <div>
                        <span class="badge">분리 저장</span>
                        <span class="badge">메타데이터</span>
                        <span class="badge">HNSW 인덱스</span>
                    </div>
                </div>
            </div>

            <h3>저장 프로세스</h3>
            <div class="timeline">
                <div class="timeline-item">
                    <h4>1. 문서 로딩</h4>
                    <p>s3, s3-chunking 폴더에서 DOCX 문서 읽기</p>
                </div>
                <div class="timeline-item">
                    <h4>2. 청킹 적용</h4>
                    <p>폴더별 청킹 전략 선택 (기본 vs 커스텀)</p>
                </div>
                <div class="timeline-item">
                    <h4>3. 임베딩 생성</h4>
                    <p>BGE-M3으로 1024차원 벡터 변환</p>
                </div>
                <div class="timeline-item">
                    <h4>4. 메타데이터 추가</h4>
                    <p>청킹 타입, 소스 정보, 타임스탬프 태깅</p>
                </div>
                <div class="timeline-item">
                    <h4>5. 벡터 저장</h4>
                    <p>ChromaDB 별도 컬렉션에 저장 완료</p>
                </div>
            </div>

            <div class="highlight-box">
                <h3>벡터 DB 구성</h3>
                <div class="code-block">
ChromaDB
├── basic_chunks/           # 기본 청킹 벡터 (3,169개)
│   ├── vectors (1024-dim)
│   └── metadata (source, chunking_type)
└── custom_chunks/          # 커스텀 청킹 벡터 (6,304개)
    ├── vectors (1024-dim)
    └── metadata (source, chunking_type, enhanced)</div>
            </div>
        </section>

        <section id="search" class="section">
            <h2>🔍 6. 검색 및 유사도 측정</h2>
            
            <h3>다단계 검색 파이프라인</h3>
            <div class="feature-grid">
                <div class="feature-card">
                    <h4>1단계: 벡터 유사도 검색</h4>
                    <div class="code-block">
def dual_search(query, k=5):
    basic_results = similarity_search_with_score(
        query, "basic", k//2 + 1
    )
    custom_results = similarity_search_with_score(
        query, "custom", k//2 + 1
    )
    return merge_and_rank(basic_results, custom_results)</div>
                </div>
                <div class="feature-card">
                    <h4>2단계: 키워드 부스팅</h4>
                    <div class="code-block">
def apply_keyword_boosting(results, query):
    if query in doc.page_content:
        boost_factor = 1.5  # 50% 부스트
    elif any_keywords_match:
        boost_factor = 1.2  # 20% 부스트
    
    return boosted_results</div>
                </div>
                <div class="feature-card">
                    <h4>3단계: AI 재순위화</h4>
                    <div class="code-block">
def rerank_results(query, documents):
    reranker = SearchReranker()
    reranked_docs = reranker.rerank(
        query=query,
        documents=documents,
        top_k=5
    )</div>
                </div>
                <div class="feature-card">
                    <h4>4단계: 품질 게이트</h4>
                    <p>유사도 임계값 0.45 이상만 통과</p>
                    <p>고품질 결과만 LLM에 전달</p>
                    <span class="badge success">품질 보장</span>
                </div>
            </div>

            <h3>유사도 측정 기준</h3>
            <table>
                <thead>
                    <tr>
                        <th>단계</th>
                        <th>기준</th>
                        <th>가중치</th>
                        <th>설명</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Vector Search</strong></td>
                        <td>코사인 유사도</td>
                        <td>1.0</td>
                        <td>ChromaDB 기본 점수</td>
                    </tr>
                    <tr>
                        <td><strong>Keyword Boost</strong></td>
                        <td>키워드 매칭</td>
                        <td>1.2-1.5x</td>
                        <td>정확한 매칭 시 가산점</td>
                    </tr>
                    <tr>
                        <td><strong>AI Rerank</strong></td>
                        <td>의미적 관련성</td>
                        <td>재순위</td>
                        <td>LLM 기반 컨텍스트 평가</td>
                    </tr>
                    <tr>
                        <td><strong>Quality Gate</strong></td>
                        <td>임계값 필터링</td>
                        <td>0.45+</td>
                        <td>고품질 결과만 반환</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <section id="benchmarking" class="section">
            <h2>🏁 7. 4가지 벤치마킹 모드</h2>
            
            <div class="highlight-box">
                <h3>Phase 기반 실행 전략</h3>
                <p><strong>Phase 1: 기본 방법들</strong> (동시 실행)</p>
                <ul>
                    <li>🏠 local-basic: kanana8b + s3 기본 청킹</li>
                    <li>🤖 chatgpt-basic: GPT-4o-mini + s3 기본 청킹</li>
                </ul>
                <p><strong>Phase 2: 커스텀 방법들</strong> (동시 실행)</p>
                <ul>
                    <li>🔧 local-custom: kanana8b + s3-chunking 커스텀</li>
                    <li>🧠 chatgpt-custom: GPT-4o-mini + s3-chunking 커스텀</li>
                </ul>
            </div>

            <h3>모드별 특성 비교</h3>
            <table>
                <thead>
                    <tr>
                        <th>모드</th>
                        <th>LLM</th>
                        <th>청킹 전략</th>
                        <th>장점</th>
                        <th>단점</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>local-basic</strong></td>
                        <td>kanana8b</td>
                        <td>기본</td>
                        <td>빠른 응답, 비용 절감</td>
                        <td>제한적 성능</td>
                    </tr>
                    <tr>
                        <td><strong>chatgpt-basic</strong></td>
                        <td>GPT-4o-mini</td>
                        <td>기본</td>
                        <td>높은 품질, 안정성</td>
                        <td>API 비용</td>
                    </tr>
                    <tr>
                        <td><strong>local-custom</strong></td>
                        <td>kanana8b</td>
                        <td>커스텀</td>
                        <td>의미 단위 분할 + 로컬</td>
                        <td>복잡한 처리</td>
                    </tr>
                    <tr>
                        <td><strong>chatgpt-custom</strong></td>
                        <td>GPT-4o-mini</td>
                        <td>커스텀</td>
                        <td>최고 품질</td>
                        <td>높은 비용</td>
                    </tr>
                </tbody>
            </table>

            <h3>성능 비교 결과</h3>
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number">3-5초</div>
                    <div class="stat-label">local-basic 응답시간</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">2-4초</div>
                    <div class="stat-label">chatgpt-basic 응답시간</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">5-8초</div>
                    <div class="stat-label">local-custom 응답시간</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">3-6초</div>
                    <div class="stat-label">chatgpt-custom 응답시간</div>
                </div>
            </div>

            <div class="feature-grid">
                <div class="feature-card">
                    <h4>local-basic</h4>
                    <div class="performance-bar">
                        <div class="performance-fill" style="width: 60%;"></div>
                    </div>
                    <p>성능: <span class="star-rating">⭐⭐⭐</span></p>
                    <p>적합 용도: 빠른 프로토타입</p>
                    <span class="badge success">무료</span>
                </div>
                <div class="feature-card">
                    <h4>chatgpt-basic</h4>
                    <div class="performance-bar">
                        <div class="performance-fill" style="width: 80%;"></div>
                    </div>
                    <p>성능: <span class="star-rating">⭐⭐⭐⭐</span></p>
                    <p>적합 용도: 일반 서비스</p>
                    <span class="badge warning">유료</span>
                </div>
                <div class="feature-card">
                    <h4>local-custom</h4>
                    <div class="performance-bar">
                        <div class="performance-fill" style="width: 80%;"></div>
                    </div>
                    <p>성능: <span class="star-rating">⭐⭐⭐⭐</span></p>
                    <p>적합 용도: 전문 도메인</p>
                    <span class="badge success">무료</span>
                </div>
                <div class="feature-card">
                    <h4>chatgpt-custom</h4>
                    <div class="performance-bar">
                        <div class="performance-fill" style="width: 100%;"></div>
                    </div>
                    <p>성능: <span class="star-rating">⭐⭐⭐⭐⭐</span></p>
                    <p>적합 용도: 프리미엄 서비스</p>
                    <span class="badge danger">높은 비용</span>
                </div>
            </div>

            <div class="highlight-box">
                <h3>4가지 모드를 나눈 이유</h3>
                <ol>
                    <li><strong>LLM 성능 비교</strong>: 로컬 vs 클라우드 API 성능 차이 측정</li>
                    <li><strong>청킹 전략 효과</strong>: 기본 vs 커스텀 청킹의 답변 품질 영향</li>
                    <li><strong>비용 효율성</strong>: 무료 로컬 모델 vs 유료 API 비용 분석</li>
                    <li><strong>실환경 적용</strong>: 다양한 요구사항에 맞는 최적 조합 탐색</li>
                </ol>
            </div>
        </section>

        <section id="vllm" class="section">
            <h2>⚡ 8. vLLM + kanana8b 선택 이유</h2>
            
            <div class="feature-grid">
                <div class="feature-card">
                    <h4>🧠 kanana8b 모델 특성</h4>
                    <ul>
                        <li><strong>아키텍처</strong>: 한국어 최적화 Transformer (8B 파라미터)</li>
                        <li><strong>성능</strong>: 한국어 이해도 및 생성 품질 우수</li>
                        <li><strong>효율성</strong>: 적절한 모델 크기로 리소스 효율적</li>
                        <li><strong>호환성</strong>: OpenAI API 완전 호환</li>
                    </ul>
                    <span class="badge success">한국어 특화</span>
                    <span class="badge">8B 파라미터</span>
                </div>
                <div class="feature-card">
                    <h4>⚡ vLLM 프레임워크 장점</h4>
                    <ul>
                        <li><strong>PagedAttention</strong>: 메모리 효율적 어텐션</li>
                        <li><strong>Dynamic Batching</strong>: 실시간 배치 최적화</li>
                        <li><strong>GPU 최적화</strong>: CUDA 최적화 커널</li>
                        <li><strong>API 호환성</strong>: OpenAI API 완전 호환</li>
                    </ul>
                    <span class="badge">65% 메모리 절약</span>
                    <span class="badge">3x 성능 향상</span>
                </div>
            </div>

            <h3>vLLM vs 기존 프레임워크 비교</h3>
            <table>
                <thead>
                    <tr>
                        <th>특성</th>
                        <th>vLLM</th>
                        <th>Transformers</th>
                        <th>Ollama</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>메모리 효율성</strong></td>
                        <td><span class="star-rating">⭐⭐⭐⭐⭐</span></td>
                        <td><span class="star-rating">⭐⭐</span></td>
                        <td><span class="star-rating">⭐⭐⭐</span></td>
                    </tr>
                    <tr>
                        <td><strong>추론 속도</strong></td>
                        <td><span class="star-rating">⭐⭐⭐⭐⭐</span></td>
                        <td><span class="star-rating">⭐⭐</span></td>
                        <td><span class="star-rating">⭐⭐⭐</span></td>
                    </tr>
                    <tr>
                        <td><strong>배치 처리</strong></td>
                        <td><span class="star-rating">⭐⭐⭐⭐⭐</span></td>
                        <td><span class="star-rating">⭐</span></td>
                        <td><span class="star-rating">⭐⭐</span></td>
                    </tr>
                    <tr>
                        <td><strong>API 호환성</strong></td>
                        <td><span class="star-rating">⭐⭐⭐⭐⭐</span></td>
                        <td><span class="star-rating">⭐</span></td>
                        <td><span class="star-rating">⭐⭐⭐</span></td>
                    </tr>
                </tbody>
            </table>

            <h3>비용 효율성 분석</h3>
            <table>
                <thead>
                    <tr>
                        <th>항목</th>
                        <th>ChatGPT API</th>
                        <th>vLLM + kanana8b</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>초기 비용</strong></td>
                        <td>$0</td>
                        <td>GPU 서버 구축</td>
                    </tr>
                    <tr>
                        <td><strong>운영 비용</strong></td>
                        <td>$0.002/1K토큰</td>
                        <td>전력 + 유지보수</td>
                    </tr>
                    <tr>
                        <td><strong>월 예상 비용</strong></td>
                        <td>$200-500</td>
                        <td>$50-100</td>
                    </tr>
                    <tr>
                        <td><strong>데이터 프라이버시</strong></td>
                        <td>외부 전송</td>
                        <td>내부 처리</td>
                    </tr>
                    <tr>
                        <td><strong>커스터마이징</strong></td>
                        <td>제한적</td>
                        <td>완전 제어</td>
                    </tr>
                </tbody>
            </table>

            <div class="code-block">
# vLLM 서버 설정
vLLM_CONFIG = {
    "base_url": "http://192.168.0.224:8412",
    "model": "kanana8b", 
    "max_tokens": 2048,
    "temperature": 0.1,
    "stream": True
}</div>
        </section>

        <section id="performance" class="section">
            <h2>📊 9. 성능 및 실시간 스트리밍</h2>
            
            <h3>하이브리드 캐싱 시스템</h3>
            <div class="feature-grid">
                <div class="feature-card">
                    <h4>L1 캐시: Redis</h4>
                    <ul>
                        <li>적중률: 60%</li>
                        <li>평균 응답시간: 50ms</li>
                        <li>저장 기간: 1시간</li>
                    </ul>
                    <span class="badge success">초고속 접근</span>
                </div>
                <div class="feature-card">
                    <h4>L2 캐시: SQLite</h4>
                    <ul>
                        <li>적중률: 25%</li>
                        <li>평균 응답시간: 200ms</li>
                        <li>저장 기간: 30일</li>
                    </ul>
                    <span class="badge">영구 저장</span>
                </div>
                <div class="feature-card">
                    <h4>캐시 미스</h4>
                    <ul>
                        <li>비율: 15%</li>
                        <li>평균 응답시간: 3-8초</li>
                        <li>처리: 완전 검색 + 생성</li>
                    </ul>
                    <span class="badge warning">전체 처리</span>
                </div>
                <div class="feature-card">
                    <h4>전체 성능</h4>
                    <ul>
                        <li>캐시 적중률: 85%</li>
                        <li>평균 응답시간: 3.2초</li>
                        <li>동시 사용자: 50명</li>
                    </ul>
                    <span class="badge success">고성능</span>
                </div>
            </div>

            <h3>실시간 스트리밍 구현</h3>
            <div class="code-block">
// 프론트엔드 스트리밍 수신
async function executeAllModesStream(query, summarize) {
    const response = await fetch('/api/multi/multi-query-stream', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json',
            'Accept': 'text/event-stream'
        },
        body: JSON.stringify({ query, summarize })
    });

    const reader = response.body.getReader();
    // 실시간 UI 업데이트
}</div>

            <h3>성능 벤치마크 결과</h3>
            <table>
                <thead>
                    <tr>
                        <th>시나리오</th>
                        <th>캐시 적중</th>
                        <th>캐시 미적중</th>
                        <th>스트리밍 첫 응답</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>짧은 질문</strong></td>
                        <td>0.1-0.3초</td>
                        <td>2-4초</td>
                        <td>0.5초</td>
                    </tr>
                    <tr>
                        <td><strong>복잡한 질문</strong></td>
                        <td>0.2-0.5초</td>
                        <td>4-8초</td>
                        <td>1-2초</td>
                    </tr>
                    <tr>
                        <td><strong>멀티 모드</strong></td>
                        <td>1-2초</td>
                        <td>8-15초</td>
                        <td>2-3초</td>
                    </tr>
                </tbody>
            </table>

            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number">50명</div>
                    <div class="stat-label">동시 사용자</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">85%</div>
                    <div class="stat-label">캐시 적중률</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">4GB</div>
                    <div class="stat-label">메모리 사용량</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">120</div>
                    <div class="stat-label">req/min</div>
                </div>
            </div>
        </section>

        <section id="results" class="section">
            <h2>🏆 10. 결과 및 향후 계획</h2>
            
            <h3>프로젝트 성과</h3>
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number">40%</div>
                    <div class="stat-label">상담 효율성 향상</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">60%</div>
                    <div class="stat-label">운영 비용 절감</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">92%</div>
                    <div class="stat-label">답변 정확도</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">3초</div>
                    <div class="stat-label">평균 응답시간</div>
                </div>
            </div>

            <h3>모드별 종합 평가</h3>
            <table>
                <thead>
                    <tr>
                        <th>평가 기준</th>
                        <th>local-basic</th>
                        <th>chatgpt-basic</th>
                        <th>local-custom</th>
                        <th>chatgpt-custom</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>응답 품질</strong></td>
                        <td><span class="star-rating">⭐⭐⭐</span></td>
                        <td><span class="star-rating">⭐⭐⭐⭐</span></td>
                        <td><span class="star-rating">⭐⭐⭐⭐</span></td>
                        <td><span class="star-rating">⭐⭐⭐⭐⭐</span></td>
                    </tr>
                    <tr>
                        <td><strong>처리 속도</strong></td>
                        <td><span class="star-rating">⭐⭐⭐⭐⭐</span></td>
                        <td><span class="star-rating">⭐⭐⭐⭐</span></td>
                        <td><span class="star-rating">⭐⭐⭐</span></td>
                        <td><span class="star-rating">⭐⭐⭐</span></td>
                    </tr>
                    <tr>
                        <td><strong>비용 효율성</strong></td>
                        <td><span class="star-rating">⭐⭐⭐⭐⭐</span></td>
                        <td><span class="star-rating">⭐⭐</span></td>
                        <td><span class="star-rating">⭐⭐⭐⭐⭐</span></td>
                        <td><span class="star-rating">⭐⭐</span></td>
                    </tr>
                    <tr style="background: #e3f2fd;">
                        <td><strong>종합 점수</strong></td>
                        <td><strong>16/20</strong></td>
                        <td><strong>15/20</strong></td>
                        <td><strong>15/20</strong></td>
                        <td><strong>17/20</strong></td>
                    </tr>
                </tbody>
            </table>

            <h3>추천 시나리오</h3>
            <div class="feature-grid">
                <div class="feature-card">
                    <h4>🚀 개발/테스트</h4>
                    <p><strong>local-basic</strong></p>
                    <p>빠르고 경제적인 프로토타입 개발</p>
                    <span class="badge success">추천</span>
                </div>
                <div class="feature-card">
                    <h4>📞 고객 서비스</h4>
                    <p><strong>chatgpt-basic</strong></p>
                    <p>안정적 품질의 일반 상담 서비스</p>
                    <span class="badge">균형잡힌</span>
                </div>
                <div class="feature-card">
                    <h4>🎯 전문 상담</h4>
                    <p><strong>local-custom</strong></p>
                    <p>도메인 특화된 전문 지식 서비스</p>
                    <span class="badge">전문화</span>
                </div>
                <div class="feature-card">
                    <h4>👑 프리미엄</h4>
                    <p><strong>chatgpt-custom</strong></p>
                    <p>최고 품질의 프리미엄 서비스</p>
                    <span class="badge danger">최고급</span>
                </div>
            </div>

            <h3>향후 계획</h3>
            <div class="timeline">
                <div class="timeline-item">
                    <h4>단기 계획 (3개월)</h4>
                    <ul>
                        <li>모니터링 대시보드 구축</li>
                        <li>자동 튜닝 시스템 개발</li>
                        <li>사용자 피드백 시스템</li>
                    </ul>
                </div>
                <div class="timeline-item">
                    <h4>중기 계획 (6개월)</h4>
                    <ul>
                        <li>멀티 도메인 확장</li>
                        <li>Graph RAG 구현</li>
                        <li>Multi-modal RAG</li>
                    </ul>
                </div>
                <div class="timeline-item">
                    <h4>장기 계획 (1년)</h4>
                    <ul>
                        <li>AI 에이전트 진화</li>
                        <li>엔터프라이즈 배포</li>
                        <li>마이크로서비스 아키텍처</li>
                    </ul>
                </div>
            </div>

            <div class="highlight-box">
                <h3>핵심 학습 사항</h3>
                <div style="columns: 2; column-gap: 30px;">
                    <h4>기술적 인사이트</h4>
                    <ul>
                        <li>청킹 전략의 중요성 (37% 성능 향상)</li>
                        <li>로컬 LLM의 가능성 확인</li>
                        <li>캐싱의 극대화 효과 (90% 시간 단축)</li>
                        <li>실시간 스트리밍의 UX 개선</li>
                    </ul>
                    <h4>비즈니스 인사이트</h4>
                    <ul>
                        <li>하이브리드 접근이 최적해</li>
                        <li>사용자 중심 설계의 중요성</li>
                        <li>비용 최적화 (TCO 60% 절감)</li>
                        <li>모듈러 설계로 확장성 확보</li>
                    </ul>
                </div>
            </div>
        </section>

        <div class="footer">
            <h2>🎤 Q&A 세션</h2>
            <p><strong>발표자:</strong> [Your Name]</p>
            <p><strong>연락처:</strong> [your.email@company.com]</p>
            <p><strong>발표일:</strong> 2025년 8월 26일</p>
            <p><strong>회사:</strong> BC카드</p>
            <br>
            <p><em>이 발표 자료는 실제 운영 중인 RAG QA 시스템을 기반으로 작성되었습니다.</em></p>
        </div>
    </div>

    <script>
        // 부드러운 스크롤 효과
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                document.querySelector(this.getAttribute('href')).scrollIntoView({
                    behavior: 'smooth'
                });
            });
        });

        // 성능 바 애니메이션
        function animatePerformanceBars() {
            const bars = document.querySelectorAll('.performance-fill');
            bars.forEach(bar => {
                const width = bar.style.width;
                bar.style.width = '0%';
                setTimeout(() => {
                    bar.style.width = width;
                }, 500);
            });
        }

        // 페이지 로드 시 애니메이션 실행
        window.addEventListener('load', animatePerformanceBars);

        // 스크롤 애니메이션
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver(function(entries) {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.opacity = '1';
                    entry.target.style.transform = 'translateY(0)';
                }
            });
        }, observerOptions);

        document.querySelectorAll('.section').forEach(section => {
            section.style.opacity = '0';
            section.style.transform = 'translateY(20px)';
            section.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
            observer.observe(section);
        });
    </script>
</body>
</html>